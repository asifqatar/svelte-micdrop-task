import{s as me,r as pe,e as x,a as S,b as N,v as W,g as w,d as R,f as m,h as v,i as _,j as C,w as _e,t as z,o as F,p as re,q as X,m as oe,x as $e,n as ie}from"../chunks/scheduler.CiCf2nRa.js";import{S as he,i as de,c as V,b as L,m as O,t as b,a as P,d as j,e as ge,g as ce,f as fe}from"../chunks/index.DcvOW0q_.js";import{e as T}from"../chunks/each.CyCXCkPQ.js";import{B as Y}from"../chunks/Button.D8-PHq6M.js";import{C as ve}from"../chunks/Card.DA0JmNXt.js";import{A as be,a as ke}from"../chunks/AccordionItem.BCPeEnis.js";import{C as Ce}from"../chunks/Checkbox.DJ-F2ud-.js";import{I as Ee}from"../chunks/Input.CNrVQiWs.js";import{L as Ie}from"../chunks/Label.DsGJykBB.js";import{R as Se}from"../chunks/utils.yyebEQUV.js";import{z as y}from"../chunks/index.DXqQCM1T.js";function ee(r,e,l){const s=r.slice();return s[8]=e[l],s[10]=l,s}function te(r,e,l){const s=r.slice();return s[11]=e[l],s[10]=l,s}function we(r){let e;return{c(){e=z("Name")},l(l){e=F(l,"Name")},m(l,s){_(l,e,s)},d(l){l&&m(e)}}}function se(r){let e,l=r[1].name+"",s;return{c(){e=x("p"),s=z(l),this.h()},l(t){e=N(t,"P",{class:!0});var n=R(e);s=F(n,l),n.forEach(m),this.h()},h(){v(e,"class","text-red-500 text-sm")},m(t,n){_(t,e,n),C(e,s)},p(t,n){n&2&&l!==(l=t[1].name+"")&&re(s,l)},d(t){t&&m(e)}}}function Pe(r){let e=r[11]+"",l;return{c(){l=z(e)},l(s){l=F(s,e)},m(s,t){_(s,l,t)},p:ie,d(s){s&&m(l)}}}function le(r){let e,l;function s(){return r[6](r[11])}return e=new Ce({props:{class:"font-normal my-2",checked:r[0].permissions.includes(r[11]),$$slots:{default:[Pe]},$$scope:{ctx:r}}}),e.$on("change",s),{c(){V(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){r=t;const c={};n&1&&(c.checked=r[0].permissions.includes(r[11])),n&8192&&(c.$$scope={dirty:n,ctx:r}),e.$set(c)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function xe(r){let e,l,s,t=T(r[8].checkbox),n=[];for(let a=0;a<t.length;a+=1)n[a]=le(te(r,t,a));const c=a=>P(n[a],1,1,()=>{n[a]=null});return{c(){e=x("div");for(let a=0;a<n.length;a+=1)n[a].c();l=S(),this.h()},l(a){e=N(a,"DIV",{class:!0});var i=R(e);for(let f=0;f<n.length;f+=1)n[f].l(i);i.forEach(m),l=w(a),this.h()},h(){v(e,"class","flex flex-col px-4")},m(a,i){_(a,e,i);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);_(a,l,i),s=!0},p(a,i){if(i&21){t=T(a[8].checkbox);let f;for(f=0;f<t.length;f+=1){const E=te(a,t,f);n[f]?(n[f].p(E,i),b(n[f],1)):(n[f]=le(E),n[f].c(),b(n[f],1),n[f].m(e,null))}for(ce(),f=t.length;f<n.length;f+=1)c(f);fe()}},i(a){if(!s){for(let i=0;i<t.length;i+=1)b(n[i]);s=!0}},o(a){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)P(n[i]);s=!1},d(a){a&&(m(e),m(l)),oe(n,a)}}}function Ne(r){let e,l;return{c(){e=x("img"),this.h()},l(s){e=N(s,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){v(e,"class","mr-4 my-auto"),$e(e.src,l=r[8].icon)||v(e,"src",l),v(e,"alt",r[8].title)},m(s,t){_(s,e,t)},p:ie,d(s){s&&m(e)}}}function qe(r){let e,l,s,t,n=r[8].title+"",c,a,i,f=r[8].description+"",E,p,h=r[8].icon&&Ne(r);return{c(){e=x("div"),h&&h.c(),l=S(),s=x("div"),t=x("span"),c=z(n),a=S(),i=x("span"),E=z(f),p=S(),this.h()},l(k){e=N(k,"DIV",{slot:!0,class:!0});var $=R(e);h&&h.l($),l=w($),s=N($,"DIV",{class:!0});var q=R(s);t=N(q,"SPAN",{class:!0});var A=R(t);c=F(A,n),A.forEach(m),a=w(q),i=N(q,"SPAN",{class:!0});var I=R(i);E=F(I,f),I.forEach(m),q.forEach(m),p=w($),$.forEach(m),this.h()},h(){v(t,"class","my-auto text-sm font-normal text-black"),v(i,"class","text-xs font-light"),v(s,"class","flex flex-col"),v(e,"slot","header"),v(e,"class","flex")},m(k,$){_(k,e,$),h&&h.m(e,null),C(e,l),C(e,s),C(s,t),C(t,c),C(s,a),C(s,i),C(i,E),C(e,p)},p(k,$){k[8].icon&&h.p(k,$)},d(k){k&&m(e),h&&h.d()}}}function ne(r){let e,l;return e=new ke({props:{value:r[10].toString(),$$slots:{header:[qe],default:[xe]},$$scope:{ctx:r}}}),{c(){V(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,t){O(e,s,t),l=!0},p(s,t){const n={};t&8193&&(n.$$scope={dirty:t,ctx:s}),e.$set(n)},i(s){l||(b(e.$$.fragment,s),l=!0)},o(s){P(e.$$.fragment,s),l=!1},d(s){j(e,s)}}}function Ae(r){let e,l,s=T(r[2]),t=[];for(let c=0;c<s.length;c+=1)t[c]=ne(ee(r,s,c));const n=c=>P(t[c],1,1,()=>{t[c]=null});return{c(){for(let c=0;c<t.length;c+=1)t[c].c();e=X()},l(c){for(let a=0;a<t.length;a+=1)t[a].l(c);e=X()},m(c,a){for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(c,a);_(c,e,a),l=!0},p(c,a){if(a&21){s=T(c[2]);let i;for(i=0;i<s.length;i+=1){const f=ee(c,s,i);t[i]?(t[i].p(f,a),b(t[i],1)):(t[i]=ne(f),t[i].c(),b(t[i],1),t[i].m(e.parentNode,e))}for(ce(),i=s.length;i<t.length;i+=1)n(i);fe()}},i(c){if(!l){for(let a=0;a<s.length;a+=1)b(t[a]);l=!0}},o(c){t=t.filter(Boolean);for(let a=0;a<t.length;a+=1)P(t[a]);l=!1},d(c){c&&m(e),oe(t,c)}}}function ae(r){let e,l=r[1].permissions+"",s;return{c(){e=x("p"),s=z(l),this.h()},l(t){e=N(t,"P",{class:!0});var n=R(e);s=F(n,l),n.forEach(m),this.h()},h(){v(e,"class","text-red-500 text-sm")},m(t,n){_(t,e,n),C(e,s)},p(t,n){n&2&&l!==(l=t[1].permissions+"")&&re(s,l)},d(t){t&&m(e)}}}function De(r){let e;return{c(){e=z("Save changes")},l(l){e=F(l,"Save changes")},m(l,s){_(l,e,s)},d(l){l&&m(e)}}}function Re(r){let e;return{c(){e=z("Cancel")},l(l){e=F(l,"Cancel")},m(l,s){_(l,e,s)},d(l){l&&m(e)}}}function Be(r){let e,l="Create Role",s,t,n,c,a,i,f,E,p,h="Permissions",k,$,q,A,I,D,Z,B,G;n=new Ie({props:{for:"name",class:"block mb-2",$$slots:{default:[we]},$$scope:{ctx:r}}});function ue(o){r[5](o)}let H={id:"name",size:"lg",placeholder:"Box Office"};r[0].name!==void 0&&(H.value=r[0].name),a=new Ee({props:H}),pe.push(()=>ge(a,"value",ue));let d=r[1].name&&se(r);$=new be({props:{class:"rounded-none border-none",flush:!0,$$slots:{default:[Ae]},$$scope:{ctx:r}}});let g=r[1].permissions&&ae(r);return D=new Y({props:{$$slots:{default:[De]},$$scope:{ctx:r}}}),D.$on("click",r[3]),B=new Y({props:{strokebtn:!0,$$slots:{default:[Re]},$$scope:{ctx:r}}}),{c(){e=x("p"),e.textContent=l,s=S(),t=x("div"),V(n.$$.fragment),c=S(),V(a.$$.fragment),f=S(),d&&d.c(),E=S(),p=x("p"),p.textContent=h,k=S(),V($.$$.fragment),q=S(),g&&g.c(),A=S(),I=x("div"),V(D.$$.fragment),Z=S(),V(B.$$.fragment),this.h()},l(o){e=N(o,"P",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-ns28m5"&&(e.textContent=l),s=w(o),t=N(o,"DIV",{class:!0});var u=R(t);L(n.$$.fragment,u),c=w(u),L(a.$$.fragment,u),f=w(u),d&&d.l(u),u.forEach(m),E=w(o),p=N(o,"P",{class:!0,"data-svelte-h":!0}),W(p)!=="svelte-1usfbep"&&(p.textContent=h),k=w(o),L($.$$.fragment,o),q=w(o),g&&g.l(o),A=w(o),I=N(o,"DIV",{class:!0});var M=R(I);L(D.$$.fragment,M),Z=w(M),L(B.$$.fragment,M),M.forEach(m),this.h()},h(){v(e,"class","my-5"),v(t,"class","mb-3"),v(p,"class","my-2 text-2xl text-gray-500 font-light"),v(I,"class","flex gap-4 my-5")},m(o,u){_(o,e,u),_(o,s,u),_(o,t,u),O(n,t,null),C(t,c),O(a,t,null),C(t,f),d&&d.m(t,null),_(o,E,u),_(o,p,u),_(o,k,u),O($,o,u),_(o,q,u),g&&g.m(o,u),_(o,A,u),_(o,I,u),O(D,I,null),C(I,Z),O(B,I,null),G=!0},p(o,u){const M={};u&8192&&(M.$$scope={dirty:u,ctx:o}),n.$set(M);const J={};!i&&u&1&&(i=!0,J.value=o[0].name,_e(()=>i=!1)),a.$set(J),o[1].name?d?d.p(o,u):(d=se(o),d.c(),d.m(t,null)):d&&(d.d(1),d=null);const K={};u&8193&&(K.$$scope={dirty:u,ctx:o}),$.$set(K),o[1].permissions?g?g.p(o,u):(g=ae(o),g.c(),g.m(A.parentNode,A)):g&&(g.d(1),g=null);const Q={};u&8192&&(Q.$$scope={dirty:u,ctx:o}),D.$set(Q);const U={};u&8192&&(U.$$scope={dirty:u,ctx:o}),B.$set(U)},i(o){G||(b(n.$$.fragment,o),b(a.$$.fragment,o),b($.$$.fragment,o),b(D.$$.fragment,o),b(B.$$.fragment,o),G=!0)},o(o){P(n.$$.fragment,o),P(a.$$.fragment,o),P($.$$.fragment,o),P(D.$$.fragment,o),P(B.$$.fragment,o),G=!1},d(o){o&&(m(e),m(s),m(t),m(E),m(p),m(k),m(q),m(A),m(I)),j(n),j(a),d&&d.d(),j($,o),g&&g.d(o),j(D),j(B)}}}function Ve(r){let e,l;return e=new ve({props:{$$slots:{default:[Be]},$$scope:{ctx:r}}}),{c(){V(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,t){O(e,s,t),l=!0},p(s,[t]){const n={};t&8195&&(n.$$scope={dirty:t,ctx:s}),e.$set(n)},i(s){l||(b(e.$$.fragment,s),l=!0)},o(s){P(e.$$.fragment,s),l=!1},d(s){j(e,s)}}}function Le(r,e,l){const s=y.object({name:y.string().min(1,"Role name is required").max(50,"Role name should be less than 50 characters"),permissions:y.array(y.string()).nonempty("At least one permission is required")}),t=Se;let n={name:"",permissions:[]},c={};function a(){l(1,c={});try{s.parse(n),console.log("Form submitted successfully:",n)}catch(p){p instanceof y.ZodError&&p.errors.forEach(h=>{l(1,c[h.path[0]]=h.message,c)}),console.log("Form validation failed:",c)}}function i(p){n.permissions.includes(p)?l(0,n.permissions=n.permissions.filter(h=>h!==p),n):n.permissions.push(p)}function f(p){r.$$.not_equal(n.name,p)&&(n.name=p,l(0,n))}return[n,c,t,a,i,f,p=>i(p)]}class Ke extends he{constructor(e){super(),de(this,e,Le,Ve,me,{})}}export{Ke as component};
